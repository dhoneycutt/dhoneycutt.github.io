<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="utf-8" />
    <title>ALT</title>
</head>
<body>
    <link rel="stylesheet" href="styles.css" />

    <p class="centerP">
        Output:
    </p>
    <br />
    <p class="centerP">
        <textarea id="output"></textarea>
    </p>
    <script src="boxes.js"></script>

</body>
</html>

<script>
  var output = {}
  output.preQ = {}
  output.postQ = {}
  output.time = {}

  output.preQ.age = localStorage.age
  output.preQ.CVWeakness = localStorage.CVWeakness
  output.preQ.education = localStorage.education
  output.from = localStorage.from
  output.postQ.comments = localStorage.comments
  output.postQ.weak = localStorage.weak
  output.postQ.weak = localStorage.weak
  output.postQ.changes = localStorage.changes
  output.time.end = localStorage.endTime
  output.preQ.gender = localStorage.gender
  output.intCond = localStorage.intCond
  output.midQs = localStorage.midQs
  output.preQ.MLExp = localStorage.MLExp
  output.ordCond = localStorage.ordCond
  output.pAns = localStorage.pAns
  output.time.start = localStorage.startTime
  output.time.first = localStorage.time0
  output.time.second = localStorage.time1
  output.time.third = localStorage.time2

  document.getElementById("output").value = JSON.stringify(output)

  //continueBtn.style.background = "#A9A9A9";

  //Handle sliders
  //var slider1 = document.getElementById("q1");
  //slider1.value = 50
  //var output1 = document.getElementById("q1Val");
  //output1.innerHTML = "??"; // Display the default slider value

  // Update the current slider value (each time you drag the slider handle)
  //slider1.onclick = function() {
  //  output1.innerHTML = this.value;
  //  slider1.className = "sliderA"
  //  continueBtn.style.background = "#4CAF50"
  //  answered = 1
  //}


  //Setup timer to simulate the system implementing the responses
  //implementing = false
  //if(parseInt(localStorage.intCond) > 0) {
  //  implementing = true
  //  setTimeout(delayContinue, 60000)  //1 minute delay

  //  //Setup rotating gear icon
  //  i = 1;
  //  setInterval(turnGear, 500)
  //}
  //else {
  //  document.getElementById("gear").style.display = "none"
  //}
  //Questionnaire completion check
  const isComplete = (currentValue) => currentValue == 1


  function submit() {
    weak = document.getElementById("weak").value
    comments = document.getElementById("comments").value
    answered = 1

    if (weak == "") {
        answered = 0
    }
    if (comments == "") {
        answered = 0
    }
    if (answered == 0) {
      alert("You must answer all questions before continuing")
    }
    else {
        localStorage.weak = JSON.stringify(weak)
        localStorage.comments = JSON.stringify(comments)
        complete()
        //window.location.href = "binaryInteraction.html"

    }
  }

  function complete() {
    //TODO: Output values to json file

    //TODO: Move to final page (what to put here for AMT/SONA I don't know)

    alert("Done")
  }

</script>
